{"version":3,"file":"customElement.js","sourceRoot":"","sources":["customElement.ts"],"names":[],"mappings":";;;;;;;;;;;;IAmCA;;;OAGG;IACH,SAAgB,aAAa,CAA8C,MAA8B;QACxG,4BAA4B;QACpB,IAAA,oBAAY,EAAE,4CAAa,CAAY;QAC/C,IAAM,iBAAiB,GAAkD,UAAU,CAAC;QAEpF,IAAI,OAAO,EAAE;YACZ,iBAAiB,CAAC,OAAO,GAAG,OAAO,CAAC;SACpC;QAED,OAAO,UAAS,MAAW;YAC1B,MAAM,CAAC,yBAAyB,wBAC5B,MAAM,CAAC,yBAAyB,EAChC,iBAAiB,CACpB,CAAC;QACH,CAAC,CAAC;IACH,CAAC;IAfD,sCAeC;IAED,kBAAe,aAAa,CAAC","sourcesContent":["import { WidgetProperties } from '../interfaces';\nimport { CustomElementChildType } from '../registerCustomElement';\nimport Registry from '../Registry';\n\nexport type CustomElementPropertyNames<P extends object> = ((keyof P) | (keyof WidgetProperties))[];\n\n/**\n * Defines the custom element configuration used by the customElement decorator\n */\nexport interface CustomElementConfig<P extends object = { [index: string]: any }> {\n\t/**\n\t * The tag of the custom element\n\t */\n\ttag?: string;\n\n\t/**\n\t * List of widget properties to expose as properties on the custom element\n\t */\n\tproperties?: CustomElementPropertyNames<P>;\n\n\t/**\n\t * List of attributes on the custom element to map to widget properties\n\t */\n\tattributes?: CustomElementPropertyNames<P>;\n\n\t/**\n\t * List of events to expose\n\t */\n\tevents?: CustomElementPropertyNames<P>;\n\n\tchildType?: CustomElementChildType;\n\n\tregistryFactory?: () => Registry;\n}\n\n/**\n * This Decorator is provided properties that define the behavior of a custom element, and\n * registers that custom element.\n */\nexport function customElement<P extends object = { [index: string]: any }>(config: CustomElementConfig<P>) {\n\t// rename \"tag\" to \"tagName\"\n\tconst { tag: tagName, ...configRest } = config;\n\tconst userDefinedConfig: CustomElementConfig<P> & { tagName?: string } = configRest;\n\n\tif (tagName) {\n\t\tuserDefinedConfig.tagName = tagName;\n\t}\n\n\treturn function(target: any) {\n\t\ttarget.__customElementDescriptor = {\n\t\t\t...target.__customElementDescriptor,\n\t\t\t...userDefinedConfig\n\t\t};\n\t};\n}\n\nexport default customElement;\n"]}