{"version":3,"file":"dimensions.js","sourceRoot":"","sources":["dimensions.ts"],"names":[],"mappings":";;;;;;;;;;;;IAAA,gCAAuC;IAGvC,IAAM,OAAO,GAAG,aAAM,CAAC,EAAE,IAAI,aAAA,EAAE,CAAC,CAAC;IAEjC,IAAM,iBAAiB,GAAG;QACzB,MAAM,EAAE;YACP,MAAM,EAAE,CAAC;YACT,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,KAAK,EAAE,CAAC;SACR;QACD,MAAM,EAAE;YACP,MAAM,EAAE,CAAC;YACT,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,KAAK,EAAE,CAAC;SACR;QACD,QAAQ,EAAE;YACT,MAAM,EAAE,CAAC;YACT,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;YACR,GAAG,EAAE,CAAC;SACN;QACD,MAAM,EAAE;YACP,MAAM,EAAE,CAAC;YACT,IAAI,EAAE,CAAC;YACP,GAAG,EAAE,CAAC;YACN,KAAK,EAAE,CAAC;SACR;QACD,IAAI,EAAE;YACL,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,CAAC;SACT;KACD,CAAC;IAEW,QAAA,UAAU,GAAG,OAAO,CAAC,UAAC,EAAwB;YAAR,yBAAI;QACtD,OAAO;YACN,GAAG,EAAH,UAAI,GAAoB;gBACvB,IAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC9B,IAAI,CAAC,OAAO,EAAE;oBACb,OAAO;wBACN,MAAM,uBAAO,iBAAiB,CAAC,MAAM,CAAE;wBACvC,MAAM,uBAAO,iBAAiB,CAAC,MAAM,CAAE;wBACvC,QAAQ,uBAAO,iBAAiB,CAAC,QAAQ,CAAE;wBAC3C,MAAM,uBAAO,iBAAiB,CAAC,MAAM,CAAE;wBACvC,IAAI,uBAAO,iBAAiB,CAAC,IAAI,CAAE;qBACnC,CAAC;iBACF;gBAED,IAAM,kBAAkB,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;gBAC3D,IAAM,MAAM,GAAG;oBACd,MAAM,EAAE;wBACP,MAAM,EAAE,OAAO,CAAC,YAAY;wBAC5B,IAAI,EAAE,OAAO,CAAC,UAAU;wBACxB,GAAG,EAAE,OAAO,CAAC,SAAS;wBACtB,KAAK,EAAE,OAAO,CAAC,WAAW;qBAC1B;oBACD,MAAM,EAAE;wBACP,MAAM,EAAE,OAAO,CAAC,YAAY;wBAC5B,IAAI,EAAE,OAAO,CAAC,UAAU;wBACxB,GAAG,EAAE,OAAO,CAAC,SAAS;wBACtB,KAAK,EAAE,OAAO,CAAC,WAAW;qBAC1B;oBACD,QAAQ,EAAE;wBACT,MAAM,EAAE,kBAAkB,CAAC,MAAM;wBACjC,IAAI,EAAE,kBAAkB,CAAC,IAAI;wBAC7B,KAAK,EAAE,kBAAkB,CAAC,KAAK;wBAC/B,GAAG,EAAE,kBAAkB,CAAC,GAAG;qBAC3B;oBACD,MAAM,EAAE;wBACP,MAAM,EAAE,OAAO,CAAC,YAAY;wBAC5B,IAAI,EAAE,OAAO,CAAC,UAAU;wBACxB,GAAG,EAAE,OAAO,CAAC,SAAS;wBACtB,KAAK,EAAE,OAAO,CAAC,WAAW;qBAC1B;oBACD,IAAI,EAAE;wBACL,KAAK,EAAE,kBAAkB,CAAC,KAAK;wBAC/B,MAAM,EAAE,kBAAkB,CAAC,MAAM;qBACjC;iBACD,CAAC;gBACF,OAAO,MAAM,CAAC;YACf,CAAC;SACD,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,kBAAe,kBAAU,CAAC","sourcesContent":["import { create, node } from '../vdom';\nimport { DimensionResults } from '../meta/Dimensions';\n\nconst factory = create({ node });\n\nconst defaultDimensions = {\n\tclient: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\toffset: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tposition: {\n\t\tbottom: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0\n\t},\n\tscroll: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tsize: {\n\t\twidth: 0,\n\t\theight: 0\n\t}\n};\n\nexport const dimensions = factory(({ middleware: { node } }) => {\n\treturn {\n\t\tget(key: string | number): Readonly<DimensionResults> {\n\t\t\tconst domNode = node.get(key);\n\t\t\tif (!domNode) {\n\t\t\t\treturn {\n\t\t\t\t\tclient: { ...defaultDimensions.client },\n\t\t\t\t\toffset: { ...defaultDimensions.offset },\n\t\t\t\t\tposition: { ...defaultDimensions.position },\n\t\t\t\t\tscroll: { ...defaultDimensions.scroll },\n\t\t\t\t\tsize: { ...defaultDimensions.size }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst boundingDimensions = domNode.getBoundingClientRect();\n\t\t\tconst result = {\n\t\t\t\tclient: {\n\t\t\t\t\theight: domNode.clientHeight,\n\t\t\t\t\tleft: domNode.clientLeft,\n\t\t\t\t\ttop: domNode.clientTop,\n\t\t\t\t\twidth: domNode.clientWidth\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\theight: domNode.offsetHeight,\n\t\t\t\t\tleft: domNode.offsetLeft,\n\t\t\t\t\ttop: domNode.offsetTop,\n\t\t\t\t\twidth: domNode.offsetWidth\n\t\t\t\t},\n\t\t\t\tposition: {\n\t\t\t\t\tbottom: boundingDimensions.bottom,\n\t\t\t\t\tleft: boundingDimensions.left,\n\t\t\t\t\tright: boundingDimensions.right,\n\t\t\t\t\ttop: boundingDimensions.top\n\t\t\t\t},\n\t\t\t\tscroll: {\n\t\t\t\t\theight: domNode.scrollHeight,\n\t\t\t\t\tleft: domNode.scrollLeft,\n\t\t\t\t\ttop: domNode.scrollTop,\n\t\t\t\t\twidth: domNode.scrollWidth\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\twidth: boundingDimensions.width,\n\t\t\t\t\theight: boundingDimensions.height\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn result;\n\t\t}\n\t};\n});\n\nexport default dimensions;\n"]}