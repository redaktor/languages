import { create, invalidator } from '../../../core/vdom';
export function createNodeMock() {
    const nodes = {};
    let invalidate;
    const factory = create({ invalidator });
    const mockNodeFactory = factory(({ middleware }) => {
        invalidate = middleware.invalidator;
        return {
            get(key) {
                return nodes[key] || null;
            }
        };
    });
    function mockNode(key, element) {
        if (key) {
            if (!nodes[key]) {
                nodes[key] = element;
                invalidate && invalidate();
            }
        }
        else {
            return mockNodeFactory();
        }
    }
    return mockNode;
}
export default createNodeMock;
//# sourceMappingURL=node.mjs.map